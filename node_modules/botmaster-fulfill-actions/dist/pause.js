'use strict';var R=require('ramda'),DEFAULT_WAIT=1e3,lensImplementsTyping=R.lensPath(['bot','implements','typing']),lensId=R.lensPath(['update','recipient','id']),spec={series:!0,evaluate:'step',replace:'before',controller:function controller(a,b){var c=R.clone(a.update);c.message.text=a.before,a.bot.sendMessage(c).then(function(){R.view(lensImplementsTyping,a)&&R.view(lensId,a)&&a.bot.sendIsTypingMessageTo(R.view(lensId,a),{ignoreMiddleware:!0});var d=R.isNil(a.attributes.wait)?DEFAULT_WAIT:+a.attributes.wait;setTimeout(function(){return b(null,'')},d)})}};module.exports=spec;